on: [pull_request, push]
#  workflow_dispatch:
#  schedule:
#    - cron: "0 0 * * *"

jobs:
  build:
    #runs-on: ubuntu-latest
    runs-on: self-hosted
    steps:
    - name: Checkout
      uses: actions/checkout@v3

    - name: Install Remaining Prerequisites
      run: |
        DEBIAN_FRONTEND=noninteractive sudo apt-get -qy update
        DEBIAN_FRONTEND=noninteractive sudo apt-get -qy install python3-pip python3-setuptools python3-wheel python3.11-venv

    - name: Building pandas
      run: |
        python3 -m venv pandas-venv
        source pandas-venv/bin/activate
        pip3 install cython
        git clone https://github.com/pandas-dev/pandas.git # TODO, submodule
        cd pandas
        python3 setup.py bdist_wheel
        find ..
